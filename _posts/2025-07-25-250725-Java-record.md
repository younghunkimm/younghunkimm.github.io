---
title: "[Java] ë ˆì½”ë“œ(Record) Java 16+"
categories: [Java, Java/Basic]
tags: [Java, ë ˆì½”ë“œ, Record, TIL]
date: '2025-07-25 20:31:00 +0900'
---

ì¸í”„ëŸ° ì–„ì½”ì˜ **ì œëŒ€ë¡œ íŒŒëŠ” ìë°”** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.

## ë ˆì½”ë“œë€?

---

`record` ëŠ” **ë¶ˆë³€ ë°ì´í„°**ë¥¼ í‘œí˜„í•  ë•Œ ì“°ëŠ” ê°„ê²°í•œ í´ë˜ìŠ¤ ì •ì˜ ë°©ë²•ì´ë‹¤.   
ê¸°ì¡´ì—ëŠ” ê°’ì„ ë‹´ëŠ” ìš©ë„ë¡œ `field`, `constructor`, `getter`, `equals()`, `hashCode()`, `toString()` ë“±ì„ ì¼ì¼ì´ ì‘ì„±í•´ì•¼ í–ˆëŠ”ë°,   
`record` ì—ì„œëŠ” ì´ê²ƒì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤€ë‹¤.

> ì‚¬ìš©ì— ì£¼ì˜í•  ì   
>
> - ë¶ˆë³€ ê°ì²´ì— ì í•©: `DTO`, `VO`, ì»¬ë ‰ì…˜ì˜ key(`Map`, `Set`) ë“±
> - ë¡œì§ ì¤‘ì‹¬ í´ë˜ìŠ¤ì—ëŠ” ì í•©í•˜ì§€ ì•ŠìŒ
{: .prompt-warning}

## ê¸°ë³¸ë¬¸ë²•

---

```java
public record Person(String name, int age) {}
```

ìœ„ ì½”ë“œì²˜ëŸ¼ `class` ëŒ€ì‹  `record` ë¡œ ì‘ì„±í•˜ê²Œ ë˜ë©´,   
ë‹¤ìŒê³¼ ê°™ì€ í´ë˜ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤€ë‹¤.

```java
public final class Person {
    // Field
    private final String name;
    private final int age;

    // Constructor
    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // Getter
    public String name() { return name; }
    public int age() { return age; }

    // Override
    public boolean equals(Object o) { /* ... */ }
    public int hashCode() { /* ... */ }
    public String toString() { /* ... */ }
}
```

- `record` ëŠ” `final` ì´ê¸° ë•Œë¬¸ì— ìƒì†ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
- `abstract` ë¡œ ì„ ì–¸í•  ìˆ˜ ì—†ë‹¤.
- í•„ë“œë“¤ì€ `private final` ë¡œ ì„¤ì •ëœë‹¤.
- ëª¨ë“  í•„ë“œë¥¼ ë°›ëŠ” ìƒì„±ìê°€ ë§Œë“¤ì–´ì§„ë‹¤.
- ğŸ’¡ **í•„ë“œëª…ê³¼ ë™ì¼**í•œ getter ë©”ì„œë“œê°€ ìƒì„±ëœë‹¤.
- ë¶ˆë³€ì„±: í•„ë“œê°€ `final` ì´ë¯€ë¡œ ê°ì²´ ìƒì„± í›„ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.
- ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ê³ , ì˜¤ì§ **í´ë˜ìŠ¤ í•„ë“œë§Œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.**

## ì˜ˆì œ1ï¸âƒ£

---

`Person.java`
```java
public record Person(
    String name,
    int age
) {
    // ğŸ’¥ ì‚¬ìš© ë¶ˆê°€
    // public String a = "aaa";
    // private String b = "bbb";

    public static String a = "aaa";
    private static String b = "bbb";

    // ì´ ê²½ìš°ì—” Getter ë©”ì†Œë“œë¥¼ ì§ì ‘ ë§Œë“¤ì–´ì•¼í•œë‹¤.
    public String a() {
        return a;
    }

    public String b() {
        return b;
    }

    // â­ï¸ ì¶”ê°€ ê¸°ëŠ¥: ìƒì„±ì ì •ì˜
    public Person {
        // ìœ íš¨ì„± ê²€ì‚¬
        if (age < 0) throw new IllegalArgumentException("ë‚˜ì´ëŠ” 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
    }

    // â­ï¸ ì¶”ê°€ ê¸°ëŠ¥: ë©”ì„œë“œ ì •ì˜
    public String greeting() {
        return "ì•ˆë…•í•˜ì„¸ìš” " + name + "ì…ë‹ˆë‹¤.";
    }
}
```

`Main.java`
```java
Person person = new Person("í™ê¸¸ë™", 30);
// Person ì•„ë¬´ê°œ = new Person("ì•„ë¬´ê°œ", -1); // ğŸ’¥ ì˜ˆì™¸ ë°œìƒ

String personName = person.name(); // í™ê¸¸ë™
int personAge = person.age(); // 30

String personA = Person.a; // "aaa"
String personGetA = person.a(); // "aaa"
// String personB = Person.b; // âŒ ë¶ˆê°€
String personGetB = person.b(); // "bbb"

String personToString = person.toString(); // "Person[name=í™ê¸¸ë™, age=30]"

String personGreeting = person.greeting(); // "ì•ˆë…•í•˜ì„¸ìš” í™ê¸¸ë™ì…ë‹ˆë‹¤."
```

## ì˜ˆì œ2ï¸âƒ£

---

`Gender.java`
```java
public enum Gender {
    MALE("ğŸ‘¦ğŸ»"), FEMALE("ğŸ‘§ğŸ¼");

    private String emoji;
    Gender(String emoji) { this.emoji = emoji; }
    public String getEmoji() { return emoji; }
}
```

`Child.java`
```java
// â­ï¸  ë ˆì½”ë“œë¡œ ì‘ì„±
public record Child(
        String name,
        int birthYear,
        Gender gender
) {}
```

`Main.java`
```java
Child child1 = new Child("í™ê¸¸ë™", 2020, Gender.MALE);
//  ğŸ’¡ toString ë©”ì†Œë“œ êµ¬í˜„ (Objectì—ì„œ ìƒì†ë°›ì•„ Override)
String childStr = child1.toString(); // "Child[name=í™ê¸¸ë™, birthYear=2020, gender=MALE]"

Child[] children = new Child[] {
        new Child("ê¹€ìˆœì´", 2021, Gender.FEMALE),
        new Child("ì´ëŒì´", 2019, Gender.MALE),
        new Child("ë°•ì² ìˆ˜", 2020, Gender.MALE),
        new Child("ìµœì˜í¬", 2019, Gender.FEMALE),
};

for (Child child : children) {
    System.out.printf(
            "%s %dë…„ìƒ %s ì–´ë¦°ì´%n",
            child.gender().getEmoji(),
            child.birthYear(),
            child.name()
    );
}
```

![record]({{ site.baseurl }}/assets/img/posts/250720/250720-3.png)

## ì˜ˆì œ3ï¸âƒ£

---

`InfoPrinter.java`
```java
public interface InfoPrinter {
    void printInfo();
}
```

`Button.java`
```java
public class Button {
    public enum ClickedBy {
        LEFT('ì¢Œ'), RIGHT('ìš°');
        
        private char indicator;

        ClickedBy(char indicator) {
            this.indicator = indicator;
        }

        public char getIndicator() {
            return indicator;
        }
    }

    // ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ë‚´ë¶€ë¡œ í¬í•¨ ê°€ëŠ¥
    // ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ê°€ëŠ¥ (í´ë˜ìŠ¤ ìƒì†ì€ ë¶ˆê°€)
    public record ClickInfo(
        int x,
        int y,
        ClickedBy clickedBy
    ) implements InfoPrinter {
        // ğŸ’¡ í´ë˜ìŠ¤ í•„ë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ (ì¸ìŠ¤í„´ìŠ¤ í•„ë“œëŠ” ë¶ˆê°€)
        static String desc = "ë²„íŠ¼ í´ë¦­ ì •ë³´";

        // ğŸ’¡ ì¸ìŠ¤í„´ìŠ¤/í´ë˜ìŠ¤ ë©”ì†Œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ
        @Override
        public void printInfo() {
            System.out.printf(
                "%cí´ë¦­ (%d, %d)%n",
                clickedBy.indicator, x, y
            );
        }
    }

    public ClickInfo func(int x, int y, ClickedBy clickedBy) {
        System.out.println("ë²„íŠ¼ ë™ì‘");
        return new ClickInfo(x, y, clickedBy);
    }
}
```

`Main.java`
```java
Button button = new Button();

Button.ClickInfo click1 = button.func(123, 456, Button.ClickedBy.LEFT);
Button.ClickInfo click2 = button.func(492, 97, Button.ClickedBy.LEFT);
Button.ClickInfo click3 = button.func(12, 36, Button.ClickedBy.RIGHT);

for (Button.ClickInfo click : new Button.ClickInfo[] { click1, click2, click3 }) {
    click.printInfo();
}

System.out.println("\n- - - - -\n");

Button.ClickInfo click4 = button.func(111, 222, Button.ClickedBy.LEFT);
Button.ClickInfo click5 = button.func(111, 222, Button.ClickedBy.LEFT);

// â­ï¸ ë ˆì½”ë“œ ì—­ì‹œ ì°¸ì¡°í˜•
// ë‚´ìš©ì´ ê°™ì€ì§€ ì—¬ë¶€ëŠ” equals ë©”ì†Œë“œë¡œ í™•ì¸
boolean click4n5Same = click4 == click5; // false
boolean click4n5Equal = click4.equals(click5); // true
boolean click4n1Equal = click4.equals(click1); // false
```

## ğŸ“Œ ì¶”ê°€ì‚¬í•­

- í´ë˜ìŠ¤ ë‚´ë¶€ì— ì •ì˜ëœ recordëŠ” ë‚´ë¶€ ì •ì  í´ë˜ìŠ¤ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
Button.ClickInfo click6 = new Button.ClickInfo(111, 222, Button.ClickBy.LEFT);
```
